!function(){"use strict";function t(){}function e(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==t&&i(this,e)}function r(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function n(t,e,r){a(function(){var n;try{n=e(r)}catch(e){return h.reject(t,e)}n===t?h.reject(t,new TypeError("Cannot resolve promise with itself")):h.resolve(t,n)})}function o(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function i(t,e){function r(e){i||(i=!0,h.reject(t,e))}function n(e){i||(i=!0,h.resolve(t,e))}function o(){e(n,r)}var i=!1,c=u(o);"error"===c.status&&r(c.value)}function u(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}function c(e){return e instanceof this?e:h.resolve(new this(t),e)}function s(e){var r=new this(t);return h.reject(r,e)}function l(e){var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),u=0,c=-1,s=new this(t);++c<n;)!function(t,e){function c(t){i[e]=t,++u!==n||o||(o=!0,h.resolve(s,i))}r.resolve(t).then(c,function(t){o||(o=!0,h.reject(s,t))})}(e[c],c);return s}function f(e){var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,u=new this(t);++i<n;)!function(t){r.resolve(t).then(function(t){o||(o=!0,h.resolve(u,t))},function(t){o||(o=!0,h.reject(u,t))})}(e[i]);return u}var a=setTimeout,h={},p=["REJECTED"],v=["FULFILLED"],y=["PENDING"];e.prototype.catch=function(t){return this.then(null,t)},e.prototype.then=function(e,o){if("function"!=typeof e&&this.state===v||"function"!=typeof o&&this.state===p)return this;var i=new this.constructor(t);if(this.state!==y){n(i,this.state===v?e:o,this.outcome)}else this.queue.push(new r(i,e,o));return i},r.prototype.callFulfilled=function(t){h.resolve(this.promise,t)},r.prototype.otherCallFulfilled=function(t){n(this.promise,this.onFulfilled,t)},r.prototype.callRejected=function(t){h.reject(this.promise,t)},r.prototype.otherCallRejected=function(t){n(this.promise,this.onRejected,t)},h.resolve=function(t,e){var r=u(o,e);if("error"===r.status)return h.reject(t,r.value);var n=r.value;if(n)i(t,n);else{t.state=v,t.outcome=e;for(var c=-1,s=t.queue.length;++c<s;)t.queue[c].callFulfilled(e)}return t},h.reject=function(t,e){t.state=p,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},e.resolve=c,e.reject=s,e.all=l,e.race=f,"function"!=typeof window.Promise&&(window.Promise=e)}();
